{"ast":null,"code":"var _jsxFileName = \"/home/projectwork/project/project_6/auth-system/frontend/src/components/LiveUsers.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { LocationContext } from '../context/LocationContext';\nimport './LiveUsers.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LiveUsers = () => {\n  _s();\n  const {\n    liveUsers,\n    loadingUsers,\n    fetchLiveUsers\n  } = useContext(LocationContext);\n  const [refreshInterval, setRefreshInterval] = useState(null);\n  useEffect(() => {\n    // Initial fetch\n    fetchLiveUsers();\n\n    // Set up auto-refresh\n    const intervalId = setInterval(() => {\n      fetchLiveUsers();\n    }, 20000); // Refresh every 10 seconds\n\n    setRefreshInterval(intervalId);\n\n    // Cleanup\n    return () => {\n      if (refreshInterval) {\n        clearInterval(refreshInterval);\n      }\n    };\n  }, []);\n  const formatLastActive = timestamp => {\n    if (!timestamp) return 'Unknown';\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffSeconds = Math.floor((now - date) / 1000);\n    if (diffSeconds < 60) {\n      return 'Just now';\n    } else if (diffSeconds < 3600) {\n      const minutes = Math.floor(diffSeconds / 60);\n      return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;\n    } else {\n      return date.toLocaleTimeString();\n    }\n  };\n  const handleRefresh = () => {\n    fetchLiveUsers();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"live-users-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"live-users-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Live Users (\", liveUsers.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"refresh-control\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRefresh,\n          disabled: loadingUsers,\n          children: loadingUsers ? 'Refreshing...' : 'Refresh Now'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"last-updated\",\n          children: [\"Last updated: \", new Date().toLocaleTimeString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), loadingUsers && liveUsers.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"live-users-loading\",\n      children: \"Loading users...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this) : liveUsers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"no-users-message\",\n      children: \"No users are currently online\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"live-users-list\",\n      children: liveUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-avatar\",\n          children: user.username.charAt(0).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"username\",\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-status\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Online\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Last active: \", formatLastActive(user.last_active)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), user.latitude && user.longitude ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"location-link\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `https://www.google.com/maps?q=${user.latitude},${user.longitude}`,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: \"View on Map\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"no-location\",\n              children: \"No location data available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this)]\n      }, user.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(LiveUsers, \"Oj+OYOACMGFxbdSDzLC6iJqNfp0=\");\n_c = LiveUsers;\nexport default LiveUsers;\nvar _c;\n$RefreshReg$(_c, \"LiveUsers\");","map":{"version":3,"names":["React","useState","useEffect","useContext","LocationContext","jsxDEV","_jsxDEV","LiveUsers","_s","liveUsers","loadingUsers","fetchLiveUsers","refreshInterval","setRefreshInterval","intervalId","setInterval","clearInterval","formatLastActive","timestamp","date","Date","now","diffSeconds","Math","floor","minutes","toLocaleTimeString","handleRefresh","className","children","length","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","map","user","username","charAt","toUpperCase","last_active","latitude","longitude","href","target","rel","id","_c","$RefreshReg$"],"sources":["/home/projectwork/project/project_6/auth-system/frontend/src/components/LiveUsers.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { LocationContext } from '../context/LocationContext';\nimport './LiveUsers.css';\n\nconst LiveUsers = () => {\n  const { liveUsers, loadingUsers, fetchLiveUsers } = useContext(LocationContext);\n  const [refreshInterval, setRefreshInterval] = useState(null);\n\n  useEffect(() => {\n    // Initial fetch\n    fetchLiveUsers();\n    \n    // Set up auto-refresh\n    const intervalId = setInterval(() => {\n      fetchLiveUsers();\n    }, 20000); // Refresh every 10 seconds\n    \n    setRefreshInterval(intervalId);\n    \n    // Cleanup\n    return () => {\n      if (refreshInterval) {\n        clearInterval(refreshInterval);\n      }\n    };\n  }, []);\n\n  const formatLastActive = (timestamp) => {\n    if (!timestamp) return 'Unknown';\n    \n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffSeconds = Math.floor((now - date) / 1000);\n    \n    if (diffSeconds < 60) {\n      return 'Just now';\n    } else if (diffSeconds < 3600) {\n      const minutes = Math.floor(diffSeconds / 60);\n      return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;\n    } else {\n      return date.toLocaleTimeString();\n    }\n  };\n\n  const handleRefresh = () => {\n    fetchLiveUsers();\n  };\n\n  return (\n    <div className=\"live-users-container\">\n      <div className=\"live-users-header\">\n        <h2>Live Users ({liveUsers.length})</h2>\n        <div className=\"refresh-control\">\n          <button onClick={handleRefresh} disabled={loadingUsers}>\n            {loadingUsers ? 'Refreshing...' : 'Refresh Now'}\n          </button>\n          <span className=\"last-updated\">\n            Last updated: {new Date().toLocaleTimeString()}\n          </span>\n        </div>\n      </div>\n      \n      {loadingUsers && liveUsers.length === 0 ? (\n        <div className=\"live-users-loading\">Loading users...</div>\n      ) : liveUsers.length === 0 ? (\n        <p className=\"no-users-message\">No users are currently online</p>\n      ) : (\n        <div className=\"live-users-list\">\n          {liveUsers.map((user) => (\n            <div key={user.id} className=\"user-card\">\n              <div className=\"user-avatar\">\n                {user.username.charAt(0).toUpperCase()}\n              </div>\n              <div className=\"user-info\">\n                <span className=\"username\">{user.username}</span>\n                <div className=\"user-status\">\n                  <span className=\"status-dot\"></span>\n                  <span>Online</span>\n                </div>\n                <div className=\"user-details\">\n                  <span>Last active: {formatLastActive(user.last_active)}</span>\n                  \n                  {user.latitude && user.longitude ? (\n                    <div className=\"location-link\">\n                      <a \n                        href={`https://www.google.com/maps?q=${user.latitude},${user.longitude}`}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        View on Map\n                      </a>\n                    </div>\n                  ) : (\n                    <span className=\"no-location\">No location data available</span>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LiveUsers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}