{"ast":null,"code":"var _jsxFileName = \"/home/projectwork/project/project_6/auth-system/frontend/src/components/UserLocationMap.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState, useContext, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline, useMap, useMapEvents } from 'react-leaflet';\nimport { LocationContext } from '../context/LocationContext';\nimport { AuthContext } from '../context/AuthContext';\nimport { ChatContext } from '../context/ChatContext';\nimport ChatDialog from './ChatDialog';\nimport NotificationsPanel from './NotificationsPanel';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport './UserLocationMap.css';\nimport NotificationButton from './NotificationButton';\n// Fix for default icons\nimport icon from 'leaflet/dist/images/marker-icon.png';\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faComments, faSync } from '@fortawesome/free-solid-svg-icons';\n\n// Define default Leaflet icon\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet DefaultIcon = L.icon({\n  iconUrl: icon,\n  shadowUrl: iconShadow,\n  iconSize: [25, 41],\n  iconAnchor: [12, 41]\n});\nL.Marker.prototype.options.icon = DefaultIcon;\n\n// Helper to parse route data from PostGIS or OSRM\nconst parseRouteData = routeData => {\n  if (!routeData) return [];\n\n  // LINESTRING parsing\n  if (typeof routeData === 'string' && routeData.startsWith('LINESTRING')) {\n    try {\n      // Extract coordinates from LINESTRING(lng lat, lng lat, ...)\n      const coordsStr = routeData.substring(routeData.indexOf('(') + 1, routeData.lastIndexOf(')'));\n      return coordsStr.split(',').map(pair => {\n        const [lng, lat] = pair.trim().split(' ').map(parseFloat);\n        // Return [lat, lng] for Leaflet\n        return [lat, lng];\n      });\n    } catch (e) {\n      console.error('Error parsing LINESTRING:', e, routeData);\n      return [];\n    }\n  }\n\n  // If it's already an array, return it (assuming it's in Leaflet's [lat, lng] format)\n  if (Array.isArray(routeData)) {\n    return routeData;\n  }\n  return [];\n};\n\n// Test location data for debugging\nconst TEST_LOCATIONS = [{\n  id: 1,\n  name: \"San Francisco\",\n  lat: 37.7749,\n  lng: -122.4194\n}, {\n  id: 2,\n  name: \"New York\",\n  lat: 40.7128,\n  lng: -74.0060\n}, {\n  id: 3,\n  name: \"Chicago\",\n  lat: 41.8781,\n  lng: -87.6298\n}, {\n  id: 4,\n  name: \"Los Angeles\",\n  lat: 34.0522,\n  lng: -118.2437\n}];\n\n// Component to update map bounds based on users' positions and routes\nfunction MapBoundsUpdater({\n  users,\n  paths\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (!users.length && !paths.length) return;\n    try {\n      const points = [];\n\n      // Add user points\n      users.forEach(user => {\n        if (user.latitude && user.longitude) {\n          points.push([user.latitude, user.longitude]);\n        }\n      });\n\n      // Add path points (with better handling for complex routes)\n      paths.forEach(path => {\n        if (path.parsedRoute && Array.isArray(path.parsedRoute)) {\n          // Don't add every point - just add first, last, and some in between\n          // to avoid overloading the bounds calculation with too many points\n          const routePoints = path.parsedRoute;\n          if (routePoints.length > 0) {\n            points.push(routePoints[0]); // Add first point\n\n            if (routePoints.length > 10) {\n              // Add a few points in the middle for long routes\n              points.push(routePoints[Math.floor(routePoints.length / 3)]);\n              points.push(routePoints[Math.floor(routePoints.length * 2 / 3)]);\n            }\n            if (routePoints.length > 1) {\n              points.push(routePoints[routePoints.length - 1]); // Add last point\n            }\n          }\n        }\n      });\n      if (points.length > 0) {\n        const bounds = L.latLngBounds(points);\n        map.fitBounds(bounds, {\n          padding: [50, 50]\n        });\n      }\n    } catch (error) {\n      console.error('Error updating map bounds:', error);\n    }\n  }, [users, paths, map]);\n  return null;\n}\n\n// Component to handle map clicks for route creation\n_s(MapBoundsUpdater, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = MapBoundsUpdater;\nfunction MapClickHandler({\n  routeMode,\n  selectedSource,\n  setSelectedSource,\n  createPath\n}) {\n  _s2();\n  useMapEvents({\n    click: e => {\n      if (!routeMode) return;\n      const {\n        lat,\n        lng\n      } = e.latlng;\n      if (!selectedSource) {\n        // Set source\n        setSelectedSource({\n          lat,\n          lng\n        });\n      } else {\n        // Set destination and create path\n        const destination = {\n          lat,\n          lng\n        };\n        createPath(selectedSource, destination);\n\n        // Reset route mode (this will be handled by parent component)\n      }\n    }\n  });\n  return null;\n}\n\n// Fixed TestMarkers component to ensure markers render\n_s2(MapClickHandler, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n  return [useMapEvents];\n});\n_c2 = MapClickHandler;\nfunction TestMarkers() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: TEST_LOCATIONS.map(location => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [location.lat, location.lng],\n      icon: DefaultIcon,\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: location.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Test marker to verify map works\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Coordinates: \", location.lat, \", \", location.lng]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this)\n    }, `test-${location.id}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n}\n_c3 = TestMarkers;\nconst UserLocationMap = () => {\n  _s3();\n  const {\n    liveUsers,\n    fetchLiveUsers,\n    livePaths,\n    fetchLivePaths,\n    createPath,\n    showIntersectingOnly,\n    toggleIntersectionFilter,\n    forceRefreshData\n  } = useContext(LocationContext);\n  const {\n    user\n  } = useContext(AuthContext);\n  const {\n    sendChatRequest,\n    notifications,\n    currentChat,\n    openChat,\n    activeChats,\n    fetchActiveChats,\n    fetchNotifications\n  } = useContext(ChatContext);\n\n  // MOVED debugContent state inside component (this was the main bug)\n  const [debugContent, setDebugContent] = useState('');\n  const [usersWithLocation, setUsersWithLocation] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [lastUpdated, setLastUpdated] = useState(new Date());\n  const [pathsWithCoordinates, setPathsWithCoordinates] = useState([]);\n  const [routeMode, setRouteMode] = useState(false);\n  const [selectedSource, setSelectedSource] = useState(null);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showTestMarkers, setShowTestMarkers] = useState(true); // Enable test markers\n  const mapRef = useRef(null);\n  const mapCenter = useRef([37.7749, -122.4194]); // Default to San Francisco\n\n  // Fixed createCustomIcon function - moved inside component\n  const createCustomIcon = color => {\n    return L.divIcon({\n      className: 'custom-div-icon',\n      html: `<div class=\"marker-pin\" style=\"background-color: ${color};\"></div>`,\n      iconSize: [30, 42],\n      iconAnchor: [15, 42]\n    });\n  };\n\n  // Add a debug effect to log user data for troubleshooting\n  useEffect(() => {\n    console.log('FULL LIVE USER DATA:', liveUsers);\n    if (liveUsers && liveUsers.length > 0) {\n      // Display first 3 users' raw data for debugging\n      const userSample = liveUsers.slice(0, 3).map(u => ({\n        id: u.id,\n        username: u.username,\n        latitude: u.latitude,\n        longitude: u.longitude,\n        type: typeof u.latitude\n      }));\n      setDebugContent(JSON.stringify(userSample, null, 2));\n    }\n  }, [liveUsers]);\n\n  // Chat request handler\n  const handleChatRequest = userId => {\n    if (userId === user.id) {\n      // Don't allow chatting with yourself\n      return;\n    }\n    sendChatRequest(userId).then(response => {\n      console.log('Chat request sent successfully:', response);\n    }).catch(error => {\n      console.error('Failed to send chat request:', error);\n    });\n  };\n\n  // Handle refresh button click\n  const handleRefresh = async () => {\n    try {\n      setIsLoading(true);\n      console.log('Manually refreshing map data...');\n\n      // Refresh notifications too\n      if (fetchNotifications) {\n        await fetchNotifications(true);\n      }\n\n      // Only use forceRefreshData if it exists, otherwise fall back to the individual fetch functions\n      if (forceRefreshData) {\n        await forceRefreshData();\n      } else {\n        await Promise.all([fetchLiveUsers(), fetchLivePaths()]);\n      }\n      setLastUpdated(new Date());\n      console.log('Map data refreshed manually');\n    } catch (error) {\n      console.error('Manual refresh failed:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Enhanced notification toggle with debugging\n  const toggleNotifications = () => {\n    console.log('Toggling notifications panel. Current state:', showNotifications);\n    // Refresh notifications when opening panel\n    if (!showNotifications && fetchNotifications) {\n      fetchNotifications(true).catch(err => console.error('Failed to refresh notifications:', err));\n    }\n    setShowNotifications(!showNotifications);\n  };\n\n  // Fetch active chats on component mount\n  useEffect(() => {\n    if (user && fetchActiveChats) {\n      fetchActiveChats();\n    }\n  }, [user, fetchActiveChats]);\n\n  // Effect for initial data load and periodic updates\n  useEffect(() => {\n    if (!user) return;\n\n    // Initial load - force immediate fetch\n    setIsLoading(true);\n    console.log('Initial data load...');\n\n    // Use Promise.all to load both data types in parallel\n    Promise.all([fetchLiveUsers(), fetchLivePaths()]).then(([users, paths]) => {\n      console.log(`Initial load complete: ${(users === null || users === void 0 ? void 0 : users.length) || 0} users, ${(paths === null || paths === void 0 ? void 0 : paths.length) || 0} paths`);\n      setLastUpdated(new Date());\n    }).catch(error => {\n      console.error('Error in initial data load:', error);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n\n    // Then set up regular polling\n    let isMounted = true;\n    const loadMapData = async () => {\n      if (!isMounted || isLoading) return;\n      console.log(`Map data refresh at ${new Date().toLocaleTimeString()}`);\n      try {\n        // Only update if too much time has passed since last update\n        const timeSinceUpdate = new Date() - lastUpdated;\n        if (timeSinceUpdate > 25000) {\n          // 25 seconds minimum\n          setIsLoading(true);\n          await fetchLiveUsers();\n          await fetchLivePaths();\n          setLastUpdated(new Date());\n        } else {\n          console.log(`Skipping refresh - only ${Math.round(timeSinceUpdate / 1000)}s since last update`);\n        }\n      } catch (error) {\n        console.error('Error refreshing map data:', error);\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    };\n    const intervalId = setInterval(loadMapData, 60000); // Increased to 60 seconds to reduce load\n\n    return () => {\n      isMounted = false;\n      clearInterval(intervalId);\n    };\n  }, [user, fetchLiveUsers, fetchLivePaths, isLoading, lastUpdated]);\n\n  // Effect to process user data\n  useEffect(() => {\n    if (liveUsers && Array.isArray(liveUsers)) {\n      console.log(`Processing ${liveUsers.length} users`);\n\n      // Filter users with valid coordinates and process them\n      const filtered = liveUsers.filter(u => {\n        // Ensure the coordinates are valid numbers within range\n        const lat = parseFloat(u.latitude);\n        const lng = parseFloat(u.longitude);\n        return !isNaN(lat) && !isNaN(lng) && Math.abs(lat) <= 90 && Math.abs(lng) <= 180;\n      });\n      console.log(`Found ${filtered.length} users with valid coordinates`);\n\n      // Update center point if we have valid users\n      if (filtered.length > 0) {\n        // Calculate average position for map center\n        const totalLat = filtered.reduce((sum, u) => sum + parseFloat(u.latitude), 0);\n        const totalLng = filtered.reduce((sum, u) => sum + parseFloat(u.longitude), 0);\n        mapCenter.current = [totalLat / filtered.length, totalLng / filtered.length];\n        console.log(`Map center set to: [${mapCenter.current[0]}, ${mapCenter.current[1]}]`);\n      }\n      setUsersWithLocation(filtered);\n    } else {\n      console.warn('liveUsers is not valid array:', liveUsers);\n      setUsersWithLocation([]);\n    }\n  }, [liveUsers]);\n\n  // Effect to process path data\n  useEffect(() => {\n    if (livePaths) {\n      console.log(`Processing ${livePaths.length} paths`);\n      const parsed = livePaths.map(path => ({\n        ...path,\n        parsedRoute: parseRouteData(path.route)\n      })).filter(path => {\n        const isValid = path.parsedRoute && path.parsedRoute.length > 0;\n        if (!isValid) {\n          console.log(`Path ${path.id} has invalid route data`);\n        }\n        return isValid;\n      });\n      console.log(`Found ${parsed.length} paths with valid route data`);\n      setPathsWithCoordinates(parsed);\n    } else {\n      console.log('No live paths data available');\n      setPathsWithCoordinates([]);\n    }\n  }, [livePaths]);\n  const toggleRouteMode = () => {\n    setRouteMode(!routeMode);\n    if (routeMode) {\n      // If turning off, clear selected source\n      setSelectedSource(null);\n    }\n  };\n  const handleCreatePath = (source, destination) => {\n    createPath(source, destination);\n    setRouteMode(false);\n    setSelectedSource(null);\n  };\n  const handleToggleIntersectionFilter = () => {\n    toggleIntersectionFilter();\n  };\n  const formatTime = date => {\n    if (!(date instanceof Date)) {\n      try {\n        date = new Date(date);\n      } catch (e) {\n        return 'Unknown';\n      }\n    }\n    return date.toLocaleTimeString();\n  };\n  if (isLoading && usersWithLocation.length === 0 && pathsWithCoordinates.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-loading\",\n      children: \"Loading map data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Calculate center point for map display or use a default\n  let centerLat = 0,\n    centerLng = 0;\n  if (usersWithLocation.length > 0) {\n    centerLat = usersWithLocation.reduce((sum, u) => sum + parseFloat(u.latitude || 0), 0) / usersWithLocation.length;\n    centerLng = usersWithLocation.reduce((sum, u) => sum + parseFloat(u.longitude || 0), 0) / usersWithLocation.length;\n  } else {\n    // Default to a central location if no users\n    centerLat = 37.7749; // San Francisco as a default\n    centerLng = -122.4194;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Live User Map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notification-controls\",\n          children: [/*#__PURE__*/_jsxDEV(NotificationButton, {\n            notificationCount: notifications ? notifications.length : 0,\n            onClick: toggleNotifications\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"refresh-button\",\n            onClick: handleRefresh,\n            title: \"Refresh map data\",\n            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faSync\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"refresh-button\",\n            onClick: () => setShowTestMarkers(!showTestMarkers),\n            title: showTestMarkers ? \"Hide test markers\" : \"Show test markers\",\n            children: showTestMarkers ? \"Hide Tests\" : \"Show Tests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-button ${showIntersectingOnly ? 'active' : ''}`,\n            onClick: handleToggleIntersectionFilter,\n            title: \"Show only paths that intersect with your route\",\n            children: showIntersectingOnly ? 'Show All Paths' : 'Show Intersecting Only'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `route-button ${routeMode ? 'active' : ''}`,\n          onClick: toggleRouteMode,\n          children: routeMode ? 'Cancel Route' : 'Create Route'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this), routeMode && !selectedSource && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"route-instructions\",\n          children: \"Click on map to set starting point\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }, this), routeMode && selectedSource && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"route-instructions\",\n          children: \"Click on map to set destination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"last-updated\",\n          children: [\"Last updated: \", formatTime(lastUpdated)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debug-banner\",\n      children: \"Loading map data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 9\n    }, this) : usersWithLocation.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debug-banner\",\n      children: [\"No users with location. Raw data: \", debugContent]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 9\n    }, this) : null, showNotifications && /*#__PURE__*/_jsxDEV(NotificationsPanel, {\n      onClose: () => setShowNotifications(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 9\n    }, this), showIntersectingOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"intersection-filter-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-info-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 11\n      }, this), \"Showing only paths that intersect with your route.\", pathsWithCoordinates.length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"no-intersections\",\n        children: \" No intersecting paths found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [centerLat || 37.7749, centerLng || -122.4194],\n      zoom: 4,\n      style: {\n        height: '600px',\n        width: '100%'\n      },\n      ref: mapRef,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this), showTestMarkers && /*#__PURE__*/_jsxDEV(TestMarkers, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(MapClickHandler, {\n        routeMode: routeMode,\n        selectedSource: selectedSource,\n        setSelectedSource: setSelectedSource,\n        createPath: handleCreatePath\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), usersWithLocation && usersWithLocation.length > 0 ? usersWithLocation.map(u => {\n        try {\n          // Ensure coordinates are valid numbers\n          const lat = parseFloat(u.latitude);\n          const lng = parseFloat(u.longitude);\n\n          // Skip invalid coordinates\n          if (isNaN(lat) || isNaN(lng) || Math.abs(lat) > 90 || Math.abs(lng) > 180) {\n            console.warn(`Invalid coordinates for user ${u.username}: [${u.latitude}, ${u.longitude}]`);\n            return null;\n          }\n          console.log(`Rendering marker for ${u.username} at [${lat}, ${lng}]`);\n\n          // Use default icon for more reliability\n          const markerIcon = u.id === (user === null || user === void 0 ? void 0 : user.id) ? createCustomIcon('#4285F4') : createCustomIcon('#FF5722');\n          return /*#__PURE__*/_jsxDEV(Marker, {\n            position: [lat, lng],\n            icon: markerIcon,\n            children: /*#__PURE__*/_jsxDEV(Popup, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-popup\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: u.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 581,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-status\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-dot\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 583,\n                    columnNumber: 25\n                  }, this), \"Online\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-location\",\n                  children: [\"Coordinates: \", lat.toFixed(4), \", \", lng.toFixed(4)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-last-active\",\n                  children: [\"Last active: \", formatTime(u.last_active)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 23\n                }, this), u.id === (user === null || user === void 0 ? void 0 : user.id) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"current-user-tag\",\n                  children: \"This is you\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 593,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-button-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"chat-request-button\",\n                    onClick: () => handleChatRequest(u.id),\n                    children: [\"Chat with \", u.username]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 596,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 19\n            }, this)\n          }, `user-${u.id}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 17\n          }, this);\n        } catch (error) {\n          console.error(`Error rendering marker for user ${u.username}:`, error);\n          return null;\n        }\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-users-message\",\n        children: \"No users with location data found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 11\n      }, this), routeMode && selectedSource && /*#__PURE__*/_jsxDEV(Marker, {\n        position: [selectedSource.lat, selectedSource.lng],\n        icon: createCustomIcon('#00C853'),\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: \"Starting point\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 11\n      }, this), pathsWithCoordinates.map((path, idx) => /*#__PURE__*/_jsxDEV(Polyline, {\n        positions: path.parsedRoute\n        // Use a special color for intersecting paths\n        ,\n        color: path.user_id === (user === null || user === void 0 ? void 0 : user.id) ? '#2196F3' : path.intersects_with_user ? '#4CAF50' : '#FF5722',\n        weight: 4,\n        opacity: 0.7,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"path-popup\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Route Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"User:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 20\n              }, this), \" \", path.username || 'Unknown']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Created:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 20\n              }, this), \" \", formatTime(path.created_at)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 17\n            }, this), path.intersects_with_user && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"intersecting-path-notice\",\n              children: \"This path intersects with your route!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 19\n            }, this), path.parsedRoute.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"From:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 24\n                }, this), \" \", path.parsedRoute[0][0].toFixed(4), \", \", path.parsedRoute[0][1].toFixed(4)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"To:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 648,\n                  columnNumber: 24\n                }, this), \" \", path.parsedRoute[path.parsedRoute.length - 1][0].toFixed(4), \", \", path.parsedRoute[path.parsedRoute.length - 1][1].toFixed(4)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Points:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 24\n                }, this), \" \", path.parsedRoute.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 13\n        }, this)\n      }, `path-${path.id || idx}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(MapBoundsUpdater, {\n        users: usersWithLocation,\n        paths: pathsWithCoordinates\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-legend\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Map Legend\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend-items\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-marker\",\n            style: {\n              backgroundColor: '#4285F4'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Your location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-marker\",\n            style: {\n              backgroundColor: '#FF5722'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Other users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-line\",\n            style: {\n              backgroundColor: '#2196F3'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Your path\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-line\",\n            style: {\n              backgroundColor: '#4CAF50'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Intersecting paths\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-line\",\n            style: {\n              backgroundColor: '#FF5722'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Other users' paths\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 11\n        }, this), routeMode && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-marker\",\n            style: {\n              backgroundColor: '#00C853'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Selected starting point\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 664,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-info-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Statistics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Active Users:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 13\n          }, this), \" \", usersWithLocation.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Active Paths:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 13\n          }, this), \" \", pathsWithCoordinates.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Last Updated:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 13\n          }, this), \" \", formatTime(lastUpdated)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 11\n        }, this), showIntersectingOnly && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Filter:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 15\n          }, this), \" Showing intersecting paths only\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"active-chats\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faComments\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 13\n          }, this), \" Active Chats\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 719,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chats-list\",\n          children: activeChats && activeChats.length > 0 ? activeChats.map(chat => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-item\",\n            onClick: () => openChat(chat.id),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-user\",\n              children: chat.otherParticipants && chat.otherParticipants.length > 0 ? chat.otherParticipants[0].username : 'Unknown User'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 19\n            }, this), chat.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"unread-badge\",\n              children: chat.unreadCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 21\n            }, this)]\n          }, chat.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 725,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-chats\",\n            children: \"No active chats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 9\n      }, this), pathsWithCoordinates.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recent-paths\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Recent Paths\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"paths-list\",\n          children: pathsWithCoordinates.slice(0, 5).map((path, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `path-item ${path.intersects_with_user ? 'intersecting' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"path-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: path.username || 'Unknown user'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 753,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatTime(path.created_at)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"path-details\",\n              children: [path.intersects_with_user && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"intersect-badge\",\n                children: \"Intersects with your route\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 758,\n                columnNumber: 23\n              }, this), path.parsedRoute.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                  children: [\"From: \", path.parsedRoute[0][0].toFixed(4), \", \", path.parsedRoute[0][1].toFixed(4)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 762,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: [\"To: \", path.parsedRoute[path.parsedRoute.length - 1][0].toFixed(4), \", \", path.parsedRoute[path.parsedRoute.length - 1][1].toFixed(4)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: [\"Route Points: \", path.parsedRoute.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 768,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 19\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 747,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 7\n    }, this), currentChat && /*#__PURE__*/_jsxDEV(ChatDialog, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 782,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 447,\n    columnNumber: 5\n  }, this);\n};\n_s3(UserLocationMap, \"elXwGvrXjKHwH+n7me0dqVqWOyM=\");\n_c4 = UserLocationMap;\nexport default UserLocationMap;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"MapBoundsUpdater\");\n$RefreshReg$(_c2, \"MapClickHandler\");\n$RefreshReg$(_c3, \"TestMarkers\");\n$RefreshReg$(_c4, \"UserLocationMap\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useRef","MapContainer","TileLayer","Marker","Popup","Polyline","useMap","useMapEvents","LocationContext","AuthContext","ChatContext","ChatDialog","NotificationsPanel","L","NotificationButton","icon","iconShadow","FontAwesomeIcon","faComments","faSync","jsxDEV","_jsxDEV","Fragment","_Fragment","DefaultIcon","iconUrl","shadowUrl","iconSize","iconAnchor","prototype","options","parseRouteData","routeData","startsWith","coordsStr","substring","indexOf","lastIndexOf","split","map","pair","lng","lat","trim","parseFloat","e","console","error","Array","isArray","TEST_LOCATIONS","id","name","MapBoundsUpdater","users","paths","_s","length","points","forEach","user","latitude","longitude","push","path","parsedRoute","routePoints","Math","floor","bounds","latLngBounds","fitBounds","padding","_c","MapClickHandler","routeMode","selectedSource","setSelectedSource","createPath","_s2","click","latlng","destination","_c2","TestMarkers","children","location","position","fileName","_jsxFileName","lineNumber","columnNumber","_c3","UserLocationMap","_s3","liveUsers","fetchLiveUsers","livePaths","fetchLivePaths","showIntersectingOnly","toggleIntersectionFilter","forceRefreshData","sendChatRequest","notifications","currentChat","openChat","activeChats","fetchActiveChats","fetchNotifications","debugContent","setDebugContent","usersWithLocation","setUsersWithLocation","isLoading","setIsLoading","lastUpdated","setLastUpdated","Date","pathsWithCoordinates","setPathsWithCoordinates","setRouteMode","showNotifications","setShowNotifications","showTestMarkers","setShowTestMarkers","mapRef","mapCenter","createCustomIcon","color","divIcon","className","html","log","userSample","slice","u","username","type","JSON","stringify","handleChatRequest","userId","then","response","catch","handleRefresh","Promise","all","toggleNotifications","err","finally","isMounted","loadMapData","toLocaleTimeString","timeSinceUpdate","round","intervalId","setInterval","clearInterval","filtered","filter","isNaN","abs","totalLat","reduce","sum","totalLng","current","warn","parsed","route","isValid","toggleRouteMode","handleCreatePath","source","handleToggleIntersectionFilter","formatTime","date","centerLat","centerLng","notificationCount","onClick","title","onClose","center","zoom","style","height","width","ref","attribution","url","markerIcon","toFixed","last_active","idx","positions","user_id","intersects_with_user","weight","opacity","created_at","backgroundColor","chat","otherParticipants","unreadCount","_c4","$RefreshReg$"],"sources":["/home/projectwork/project/project_6/auth-system/frontend/src/components/UserLocationMap.js"],"sourcesContent":["import React, { useEffect, useState, useContext, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline, useMap, useMapEvents } from 'react-leaflet';\nimport { LocationContext } from '../context/LocationContext';\nimport { AuthContext } from '../context/AuthContext';\nimport { ChatContext } from '../context/ChatContext';\nimport ChatDialog from './ChatDialog';\nimport NotificationsPanel from './NotificationsPanel';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport './UserLocationMap.css';\nimport NotificationButton from './NotificationButton';\n// Fix for default icons\nimport icon from 'leaflet/dist/images/marker-icon.png';\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faComments, faSync } from '@fortawesome/free-solid-svg-icons';\n\n// Define default Leaflet icon\nlet DefaultIcon = L.icon({\n  iconUrl: icon,\n  shadowUrl: iconShadow,\n  iconSize: [25, 41],\n  iconAnchor: [12, 41]\n});\n\nL.Marker.prototype.options.icon = DefaultIcon;\n\n// Helper to parse route data from PostGIS or OSRM\nconst parseRouteData = (routeData) => {\n  if (!routeData) return [];\n  \n  // LINESTRING parsing\n  if (typeof routeData === 'string' && routeData.startsWith('LINESTRING')) {\n    try {\n      // Extract coordinates from LINESTRING(lng lat, lng lat, ...)\n      const coordsStr = routeData.substring(routeData.indexOf('(') + 1, routeData.lastIndexOf(')'));\n      return coordsStr.split(',').map(pair => {\n        const [lng, lat] = pair.trim().split(' ').map(parseFloat);\n        // Return [lat, lng] for Leaflet\n        return [lat, lng]; \n      });\n    } catch (e) {\n      console.error('Error parsing LINESTRING:', e, routeData);\n      return [];\n    }\n  }\n  \n  // If it's already an array, return it (assuming it's in Leaflet's [lat, lng] format)\n  if (Array.isArray(routeData)) {\n    return routeData;\n  }\n  \n  return [];\n};\n\n// Test location data for debugging\nconst TEST_LOCATIONS = [\n  { id: 1, name: \"San Francisco\", lat: 37.7749, lng: -122.4194 },\n  { id: 2, name: \"New York\", lat: 40.7128, lng: -74.0060 },\n  { id: 3, name: \"Chicago\", lat: 41.8781, lng: -87.6298 },\n  { id: 4, name: \"Los Angeles\", lat: 34.0522, lng: -118.2437 }\n];\n\n// Component to update map bounds based on users' positions and routes\nfunction MapBoundsUpdater({ users, paths }) {\n  const map = useMap();\n  \n  useEffect(() => {\n    if (!users.length && !paths.length) return;\n    \n    try {\n      const points = [];\n      \n      // Add user points\n      users.forEach(user => {\n        if (user.latitude && user.longitude) {\n          points.push([user.latitude, user.longitude]);\n        }\n      });\n      \n      // Add path points (with better handling for complex routes)\n      paths.forEach(path => {\n        if (path.parsedRoute && Array.isArray(path.parsedRoute)) {\n          // Don't add every point - just add first, last, and some in between\n          // to avoid overloading the bounds calculation with too many points\n          const routePoints = path.parsedRoute;\n          if (routePoints.length > 0) {\n            points.push(routePoints[0]); // Add first point\n            \n            if (routePoints.length > 10) {\n              // Add a few points in the middle for long routes\n              points.push(routePoints[Math.floor(routePoints.length / 3)]);\n              points.push(routePoints[Math.floor(routePoints.length * 2 / 3)]);\n            }\n            \n            if (routePoints.length > 1) {\n              points.push(routePoints[routePoints.length - 1]); // Add last point\n            }\n          }\n        }\n      });\n      \n      if (points.length > 0) {\n        const bounds = L.latLngBounds(points);\n        map.fitBounds(bounds, { padding: [50, 50] });\n      }\n    } catch (error) {\n      console.error('Error updating map bounds:', error);\n    }\n  }, [users, paths, map]);\n  \n  return null;\n}\n\n// Component to handle map clicks for route creation\nfunction MapClickHandler({ routeMode, selectedSource, setSelectedSource, createPath }) {\n  useMapEvents({\n    click: (e) => {\n      if (!routeMode) return;\n      \n      const { lat, lng } = e.latlng;\n      \n      if (!selectedSource) {\n        // Set source\n        setSelectedSource({ lat, lng });\n      } else {\n        // Set destination and create path\n        const destination = { lat, lng };\n        createPath(selectedSource, destination);\n        \n        // Reset route mode (this will be handled by parent component)\n      }\n    }\n  });\n  \n  return null;\n}\n\n// Fixed TestMarkers component to ensure markers render\nfunction TestMarkers() {\n  return (\n    <>\n      {TEST_LOCATIONS.map(location => (\n        <Marker\n          key={`test-${location.id}`}\n          position={[location.lat, location.lng]}\n          icon={DefaultIcon}\n        >\n          <Popup>\n            <div>\n              <h3>{location.name}</h3>\n              <p>Test marker to verify map works</p>\n              <p>Coordinates: {location.lat}, {location.lng}</p>\n            </div>\n          </Popup>\n        </Marker>\n      ))}\n    </>\n  );\n}\n\nconst UserLocationMap = () => {\n  const { \n    liveUsers, \n    fetchLiveUsers, \n    livePaths, \n    fetchLivePaths, \n    createPath, \n    showIntersectingOnly, \n    toggleIntersectionFilter,\n    forceRefreshData\n  } = useContext(LocationContext);\n  \n  const { user } = useContext(AuthContext);\n  const { \n    sendChatRequest, \n    notifications, \n    currentChat, \n    openChat,\n    activeChats,\n    fetchActiveChats,\n    fetchNotifications\n  } = useContext(ChatContext);\n  \n  // MOVED debugContent state inside component (this was the main bug)\n  const [debugContent, setDebugContent] = useState('');\n  const [usersWithLocation, setUsersWithLocation] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [lastUpdated, setLastUpdated] = useState(new Date());\n  const [pathsWithCoordinates, setPathsWithCoordinates] = useState([]);\n  const [routeMode, setRouteMode] = useState(false);\n  const [selectedSource, setSelectedSource] = useState(null);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showTestMarkers, setShowTestMarkers] = useState(true); // Enable test markers\n  const mapRef = useRef(null);\n  const mapCenter = useRef([37.7749, -122.4194]); // Default to San Francisco\n\n  // Fixed createCustomIcon function - moved inside component\n  const createCustomIcon = (color) => {\n    return L.divIcon({\n      className: 'custom-div-icon',\n      html: `<div class=\"marker-pin\" style=\"background-color: ${color};\"></div>`,\n      iconSize: [30, 42],\n      iconAnchor: [15, 42]\n    });\n  };\n\n  // Add a debug effect to log user data for troubleshooting\n  useEffect(() => {\n    console.log('FULL LIVE USER DATA:', liveUsers);\n    if (liveUsers && liveUsers.length > 0) {\n      // Display first 3 users' raw data for debugging\n      const userSample = liveUsers.slice(0, 3).map(u => ({\n        id: u.id,\n        username: u.username,\n        latitude: u.latitude,\n        longitude: u.longitude,\n        type: typeof u.latitude\n      }));\n      setDebugContent(JSON.stringify(userSample, null, 2));\n    }\n  }, [liveUsers]);\n\n  // Chat request handler\n  const handleChatRequest = (userId) => {\n    if (userId === user.id) {\n      // Don't allow chatting with yourself\n      return;\n    }\n    \n    sendChatRequest(userId)\n      .then((response) => {\n        console.log('Chat request sent successfully:', response);\n      })\n      .catch((error) => {\n        console.error('Failed to send chat request:', error);\n      });\n  };\n\n  // Handle refresh button click\n  const handleRefresh = async () => {\n    try {\n      setIsLoading(true);\n      console.log('Manually refreshing map data...');\n      \n      // Refresh notifications too\n      if (fetchNotifications) {\n        await fetchNotifications(true);\n      }\n      \n      // Only use forceRefreshData if it exists, otherwise fall back to the individual fetch functions\n      if (forceRefreshData) {\n        await forceRefreshData();\n      } else {\n        await Promise.all([fetchLiveUsers(), fetchLivePaths()]);\n      }\n      \n      setLastUpdated(new Date());\n      console.log('Map data refreshed manually');\n    } catch (error) {\n      console.error('Manual refresh failed:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Enhanced notification toggle with debugging\n  const toggleNotifications = () => {\n    console.log('Toggling notifications panel. Current state:', showNotifications);\n    // Refresh notifications when opening panel\n    if (!showNotifications && fetchNotifications) {\n      fetchNotifications(true).catch(err => console.error('Failed to refresh notifications:', err));\n    }\n    setShowNotifications(!showNotifications);\n  };\n\n  // Fetch active chats on component mount\n  useEffect(() => {\n    if (user && fetchActiveChats) {\n      fetchActiveChats();\n    }\n  }, [user, fetchActiveChats]);\n\n  // Effect for initial data load and periodic updates\n  useEffect(() => {\n    if (!user) return;\n    \n    // Initial load - force immediate fetch\n    setIsLoading(true);\n    console.log('Initial data load...');\n    \n    // Use Promise.all to load both data types in parallel\n    Promise.all([fetchLiveUsers(), fetchLivePaths()])\n      .then(([users, paths]) => {\n        console.log(`Initial load complete: ${users?.length || 0} users, ${paths?.length || 0} paths`);\n        setLastUpdated(new Date());\n      })\n      .catch(error => {\n        console.error('Error in initial data load:', error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n    \n    // Then set up regular polling\n    let isMounted = true;\n    \n    const loadMapData = async () => {\n      if (!isMounted || isLoading) return;\n      \n      console.log(`Map data refresh at ${new Date().toLocaleTimeString()}`);\n      \n      try {\n        // Only update if too much time has passed since last update\n        const timeSinceUpdate = new Date() - lastUpdated;\n        if (timeSinceUpdate > 25000) { // 25 seconds minimum\n          setIsLoading(true);\n          await fetchLiveUsers();\n          await fetchLivePaths();\n          setLastUpdated(new Date());\n        } else {\n          console.log(`Skipping refresh - only ${Math.round(timeSinceUpdate/1000)}s since last update`);\n        }\n      } catch (error) {\n        console.error('Error refreshing map data:', error);\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    };\n\n    const intervalId = setInterval(loadMapData, 60000); // Increased to 60 seconds to reduce load\n    \n    return () => {\n      isMounted = false;\n      clearInterval(intervalId);\n    };\n  }, [user, fetchLiveUsers, fetchLivePaths, isLoading, lastUpdated]);\n\n  // Effect to process user data\n  useEffect(() => {\n    if (liveUsers && Array.isArray(liveUsers)) {\n      console.log(`Processing ${liveUsers.length} users`);\n      \n      // Filter users with valid coordinates and process them\n      const filtered = liveUsers.filter(u => {\n        // Ensure the coordinates are valid numbers within range\n        const lat = parseFloat(u.latitude);\n        const lng = parseFloat(u.longitude);\n        return !isNaN(lat) && !isNaN(lng) && \n               Math.abs(lat) <= 90 && Math.abs(lng) <= 180;\n      });\n      \n      console.log(`Found ${filtered.length} users with valid coordinates`);\n      \n      // Update center point if we have valid users\n      if (filtered.length > 0) {\n        // Calculate average position for map center\n        const totalLat = filtered.reduce((sum, u) => sum + parseFloat(u.latitude), 0);\n        const totalLng = filtered.reduce((sum, u) => sum + parseFloat(u.longitude), 0);\n        \n        mapCenter.current = [\n          totalLat / filtered.length,\n          totalLng / filtered.length\n        ];\n        \n        console.log(`Map center set to: [${mapCenter.current[0]}, ${mapCenter.current[1]}]`);\n      }\n      \n      setUsersWithLocation(filtered);\n    } else {\n      console.warn('liveUsers is not valid array:', liveUsers);\n      setUsersWithLocation([]);\n    }\n  }, [liveUsers]);\n\n  // Effect to process path data\n  useEffect(() => {\n    if (livePaths) {\n      console.log(`Processing ${livePaths.length} paths`);\n      const parsed = livePaths.map(path => ({\n        ...path,\n        parsedRoute: parseRouteData(path.route)\n      })).filter(path => {\n        const isValid = path.parsedRoute && path.parsedRoute.length > 0;\n        if (!isValid) {\n          console.log(`Path ${path.id} has invalid route data`);\n        }\n        return isValid;\n      });\n      \n      console.log(`Found ${parsed.length} paths with valid route data`);\n      setPathsWithCoordinates(parsed);\n    } else {\n      console.log('No live paths data available');\n      setPathsWithCoordinates([]);\n    }\n  }, [livePaths]);\n\n  const toggleRouteMode = () => {\n    setRouteMode(!routeMode);\n    if (routeMode) {\n      // If turning off, clear selected source\n      setSelectedSource(null);\n    }\n  };\n\n  const handleCreatePath = (source, destination) => {\n    createPath(source, destination);\n    setRouteMode(false);\n    setSelectedSource(null);\n  };\n\n  const handleToggleIntersectionFilter = () => {\n    toggleIntersectionFilter();\n  };\n\n  const formatTime = (date) => {\n    if (!(date instanceof Date)) {\n      try {\n        date = new Date(date);\n      } catch (e) {\n        return 'Unknown';\n      }\n    }\n    return date.toLocaleTimeString();\n  };\n\n  if (isLoading && usersWithLocation.length === 0 && pathsWithCoordinates.length === 0) {\n    return <div className=\"map-loading\">Loading map data...</div>;\n  }\n\n  // Calculate center point for map display or use a default\n  let centerLat = 0, centerLng = 0;\n  \n  if (usersWithLocation.length > 0) {\n    centerLat = usersWithLocation.reduce((sum, u) => sum + parseFloat(u.latitude || 0), 0) / usersWithLocation.length;\n    centerLng = usersWithLocation.reduce((sum, u) => sum + parseFloat(u.longitude || 0), 0) / usersWithLocation.length;\n  } else {\n    // Default to a central location if no users\n    centerLat = 37.7749; // San Francisco as a default\n    centerLng = -122.4194;\n  }\n\n  return (\n    <div className=\"map-container\">\n      <div className=\"map-header\">\n        <h3>Live User Map</h3>\n        <div className=\"map-controls\">\n          <div className=\"notification-controls\">\n            <NotificationButton \n              notificationCount={notifications ? notifications.length : 0}\n              onClick={toggleNotifications}\n            />\n            \n            {/* Manual refresh button */}\n            <button \n              className=\"refresh-button\"\n              onClick={handleRefresh}\n              title=\"Refresh map data\"\n            >\n              <FontAwesomeIcon icon={faSync} />\n            </button>\n            \n            {/* Toggle test markers button */}\n            <button \n              className=\"refresh-button\"\n              onClick={() => setShowTestMarkers(!showTestMarkers)}\n              title={showTestMarkers ? \"Hide test markers\" : \"Show test markers\"}\n            >\n              {showTestMarkers ? \"Hide Tests\" : \"Show Tests\"}\n            </button>\n            \n            {/* Filter button */}\n            <button\n              className={`filter-button ${showIntersectingOnly ? 'active' : ''}`}\n              onClick={handleToggleIntersectionFilter}\n              title=\"Show only paths that intersect with your route\"\n            >\n              {showIntersectingOnly ? 'Show All Paths' : 'Show Intersecting Only'}\n            </button>\n          </div>\n          \n          <button \n            className={`route-button ${routeMode ? 'active' : ''}`} \n            onClick={toggleRouteMode}\n          >\n            {routeMode ? 'Cancel Route' : 'Create Route'}\n          </button>\n          \n          {routeMode && !selectedSource && (\n            <div className=\"route-instructions\">Click on map to set starting point</div>\n          )}\n          \n          {routeMode && selectedSource && (\n            <div className=\"route-instructions\">Click on map to set destination</div>\n          )}\n          \n          <span className=\"last-updated\">\n            Last updated: {formatTime(lastUpdated)}\n          </span>\n        </div>\n      </div>\n      \n      {/* Debug panel to show raw user data */}\n      {isLoading ? (\n        <div className=\"debug-banner\">Loading map data...</div>\n      ) : usersWithLocation.length === 0 ? (\n        <div className=\"debug-banner\">\n          No users with location. Raw data: {debugContent}\n        </div>\n      ) : null}\n      \n      {/* Show notifications panel when toggled */}\n      {showNotifications && (\n        <NotificationsPanel onClose={() => setShowNotifications(false)} />\n      )}\n      \n      {/* Intersection filter info message */}\n      {showIntersectingOnly && (\n        <div className=\"intersection-filter-info\">\n          <i className=\"fas fa-info-circle\"></i> \n          Showing only paths that intersect with your route. \n          {pathsWithCoordinates.length === 0 && (\n            <span className=\"no-intersections\"> No intersecting paths found.</span>\n          )}\n        </div>\n      )}\n      \n      <MapContainer \n        center={[centerLat || 37.7749, centerLng || -122.4194]} \n        zoom={4} \n        style={{ height: '600px', width: '100%' }}\n        ref={mapRef}\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        \n        {/* Show test markers to verify marker rendering works */}\n        {showTestMarkers && <TestMarkers />}\n        \n        {/* Map click handler for route creation */}\n        <MapClickHandler \n          routeMode={routeMode} \n          selectedSource={selectedSource} \n          setSelectedSource={setSelectedSource} \n          createPath={handleCreatePath}\n        />\n        \n        {/* Display user markers with better error handling */}\n        {usersWithLocation && usersWithLocation.length > 0 ? (\n          usersWithLocation.map(u => {\n            try {\n              // Ensure coordinates are valid numbers\n              const lat = parseFloat(u.latitude);\n              const lng = parseFloat(u.longitude);\n              \n              // Skip invalid coordinates\n              if (isNaN(lat) || isNaN(lng) || Math.abs(lat) > 90 || Math.abs(lng) > 180) {\n                console.warn(`Invalid coordinates for user ${u.username}: [${u.latitude}, ${u.longitude}]`);\n                return null;\n              }\n              \n              console.log(`Rendering marker for ${u.username} at [${lat}, ${lng}]`);\n              \n              // Use default icon for more reliability\n              const markerIcon = u.id === user?.id ? \n                createCustomIcon('#4285F4') : createCustomIcon('#FF5722');\n              \n              return (\n                <Marker \n                  key={`user-${u.id}`} \n                  position={[lat, lng]}\n                  icon={markerIcon}\n                >\n                  <Popup>\n                    <div className=\"user-popup\">\n                      <h3>{u.username}</h3>\n                      <div className=\"user-status\">\n                        <span className=\"status-dot\"></span>\n                        Online\n                      </div>\n                      <div className=\"user-location\">\n                        Coordinates: {lat.toFixed(4)}, {lng.toFixed(4)}\n                      </div>\n                      <div className=\"user-last-active\">\n                        Last active: {formatTime(u.last_active)}\n                      </div>\n                      {u.id === user?.id ? (\n                        <div className=\"current-user-tag\">This is you</div>\n                      ) : (\n                        <div className=\"chat-button-container\">\n                          <button \n                            className=\"chat-request-button\"\n                            onClick={() => handleChatRequest(u.id)}\n                          >\n                            Chat with {u.username}\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  </Popup>\n                </Marker>\n              );\n            } catch (error) {\n              console.error(`Error rendering marker for user ${u.username}:`, error);\n              return null;\n            }\n          })\n        ) : (\n          <div className=\"no-users-message\">No users with location data found</div>\n        )}\n\n        {/* Display route source marker if in route mode */}\n        {routeMode && selectedSource && (\n          <Marker \n            position={[selectedSource.lat, selectedSource.lng]}\n            icon={createCustomIcon('#00C853')}\n          >\n            <Popup>Starting point</Popup>\n          </Marker>\n        )}\n        \n        {/* Display paths as polylines */}\n        {pathsWithCoordinates.map((path, idx) => (\n          <Polyline \n            key={`path-${path.id || idx}`} \n            positions={path.parsedRoute} \n            // Use a special color for intersecting paths\n            color={path.user_id === user?.id ? '#2196F3' : (path.intersects_with_user ? '#4CAF50' : '#FF5722')} \n            weight={4}\n            opacity={0.7}\n          >\n            <Popup>\n              <div className=\"path-popup\">\n                <h4>Route Information</h4>\n                <p><strong>User:</strong> {path.username || 'Unknown'}</p>\n                <p><strong>Created:</strong> {formatTime(path.created_at)}</p>\n                {path.intersects_with_user && (\n                  <p className=\"intersecting-path-notice\">This path intersects with your route!</p>\n                )}\n                {path.parsedRoute.length > 0 && (\n                  <>\n                    <p><strong>From:</strong> {path.parsedRoute[0][0].toFixed(4)}, {path.parsedRoute[0][1].toFixed(4)}</p>\n                    <p><strong>To:</strong> {path.parsedRoute[path.parsedRoute.length-1][0].toFixed(4)}, {path.parsedRoute[path.parsedRoute.length-1][1].toFixed(4)}</p>\n                    <p><strong>Points:</strong> {path.parsedRoute.length}</p>\n                  </>\n                )}\n              </div>\n            </Popup>\n          </Polyline>\n        ))}\n\n        {/* Map bounds updater component */}\n        <MapBoundsUpdater \n          users={usersWithLocation} \n          paths={pathsWithCoordinates} \n        />\n      </MapContainer>\n      \n      <div className=\"map-legend\">\n        <h4>Map Legend</h4>\n        <div className=\"legend-items\">\n          <div className=\"legend-item\">\n            <div className=\"legend-marker\" style={{ backgroundColor: '#4285F4' }}></div>\n            <span>Your location</span>\n          </div>\n          <div className=\"legend-item\">\n            <div className=\"legend-marker\" style={{ backgroundColor: '#FF5722' }}></div>\n            <span>Other users</span>\n          </div>\n          <div className=\"legend-item\">\n            <div className=\"legend-line\" style={{ backgroundColor: '#2196F3' }}></div>\n            <span>Your path</span>\n          </div>\n          {/* New legend item for intersecting paths */}\n          <div className=\"legend-item\">\n            <div className=\"legend-line\" style={{ backgroundColor: '#4CAF50' }}></div>\n            <span>Intersecting paths</span>\n          </div>\n          <div className=\"legend-item\">\n            <div className=\"legend-line\" style={{ backgroundColor: '#FF5722' }}></div>\n            <span>Other users' paths</span>\n          </div>\n          {routeMode && (\n            <div className=\"legend-item\">\n              <div className=\"legend-marker\" style={{ backgroundColor: '#00C853' }}></div>\n              <span>Selected starting point</span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Display path information and active chats panel */}\n      <div className=\"map-info-panel\">\n        <h4>Statistics</h4>\n        <div className=\"map-stats\">\n          <div className=\"stat-item\">\n            <strong>Active Users:</strong> {usersWithLocation.length}\n          </div>\n          <div className=\"stat-item\">\n            <strong>Active Paths:</strong> {pathsWithCoordinates.length}\n          </div>\n          <div className=\"stat-item\">\n            <strong>Last Updated:</strong> {formatTime(lastUpdated)}\n          </div>\n          {showIntersectingOnly && (\n            <div className=\"stat-item\">\n              <strong>Filter:</strong> Showing intersecting paths only\n            </div>\n          )}\n        </div>\n        \n        {/* Active Chats Panel */}\n        <div className=\"active-chats\">\n          <h4>\n            <FontAwesomeIcon icon={faComments} /> Active Chats\n          </h4>\n          <div className=\"chats-list\">\n            {activeChats && activeChats.length > 0 ? (\n              activeChats.map(chat => (\n                <div \n                  key={chat.id} \n                  className=\"chat-item\"\n                  onClick={() => openChat(chat.id)}\n                >\n                  <div className=\"chat-user\">\n                    {chat.otherParticipants && chat.otherParticipants.length > 0 \n                      ? chat.otherParticipants[0].username \n                      : 'Unknown User'}\n                  </div>\n                  {chat.unreadCount > 0 && (\n                    <span className=\"unread-badge\">{chat.unreadCount}</span>\n                  )}\n                </div>\n              ))\n            ) : (\n              <div className=\"no-chats\">No active chats</div>\n            )}\n          </div>\n        </div>\n        \n        {pathsWithCoordinates.length > 0 && (\n          <div className=\"recent-paths\">\n            <h4>Recent Paths</h4>\n            <div className=\"paths-list\">\n              {pathsWithCoordinates.slice(0, 5).map((path, idx) => (\n                <div key={idx} className={`path-item ${path.intersects_with_user ? 'intersecting' : ''}`}>\n                  <div className=\"path-header\">\n                    <strong>{path.username || 'Unknown user'}</strong>\n                    <span>{formatTime(path.created_at)}</span>\n                  </div>\n                  <div className=\"path-details\">\n                    {path.intersects_with_user && (\n                      <div className=\"intersect-badge\">Intersects with your route</div>\n                    )}\n                    {path.parsedRoute.length > 0 && (\n                      <>\n                        <small>\n                          From: {path.parsedRoute[0][0].toFixed(4)}, {path.parsedRoute[0][1].toFixed(4)}\n                        </small>\n                        <small>\n                          To: {path.parsedRoute[path.parsedRoute.length-1][0].toFixed(4)}, {path.parsedRoute[path.parsedRoute.length-1][1].toFixed(4)}\n                        </small>\n                        <small>\n                          Route Points: {path.parsedRoute.length}\n                        </small>\n                      </>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {/* Chat dialog */}\n      {currentChat && <ChatDialog />}\n    </div>\n  );\n};\n\nexport default UserLocationMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}